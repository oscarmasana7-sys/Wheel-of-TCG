<!doctype html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>PokÃ©mon TCG Live â€” Final Wheel (SVG icons, Drag&Drop Art, Minified)</title>
<style>:root{--bg:#071127;--accent:#ffd400;--muted:#9aa7c7}*{box-sizing:border-box}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:linear-gradient(180deg,#061024,#071127);color:#e9f0ff}a{color:var(--accent)}.app{max-width:1100px;margin:18px auto;padding:16px;display:grid;grid-template-columns:1fr 360px;gap:14px}@media(max-width:900px){.app{grid-template-columns:1fr}}.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03)}.header{display:flex;gap:12px;align-items:center}.brand h1{margin:0;font-size:18px}.controls{display:flex;gap:8px;align-items:center;margin-top:12px}.btn{background:var(--accent);color:#071127;border:0;padding:9px 12px;border-radius:8px;font-weight:800;cursor:pointer}.btn.secondary{background:transparent;color:var(--accent);border:1px solid rgba(255,212,64,0.12)}.pointer{width:48px;height:48px;border-radius:10px;background:#081427;display:flex;align-items:center;justify-content:center;font-weight:900;color:var(--accent)}.svg-wrap{position:relative;width:100%}.center-badge{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:110px;height:110px;border-radius:50%;background:linear-gradient(180deg,#fff,#f0f0f0);display:flex;align-items:center;justify-content:center;color:#071427;font-weight:900}.result{margin-top:8px}.decks-list{font-size:14px;line-height:1.4;color:#dfe9ff;max-height:200px;overflow:auto;padding:10px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(255,255,255,0.02)}.json-preview{background:#071224;padding:10px;border-radius:8px;color:var(--muted);font-family:monospace;font-size:13px;max-height:420px;overflow:auto}.modal{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:rgba(2,6,23,0.7);z-index:9999}.modal .box{width:760px;max-width:96%;background:#081427;padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}.deck-details{background:#061622;padding:10px;border-radius:8px}.dropzone{border:2px dashed rgba(255,255,255,0.04);padding:10px;border-radius:8px;color:var(--muted);text-align:center}.small{padding:8px 10px;font-size:14px}.note{font-size:13px;color:var(--muted);margin-top:8px}</style></head><body><div class="app"><div class="card"><div class="header"><div style="width:56px;height:56px;border-radius:10px;background:linear-gradient(180deg,#ffd400,#ffb300);display:flex;align-items:center;justify-content:center;font-weight:900;color:#071427">PTCG</div><div class="brand"><h1>PokÃ©mon TCG Live â€” Final Wheel</h1><div class="note">SVG icons, Drag & Drop artwork, analytics placeholder, minified single-file HTML</div></div></div><div style="margin-top:12px;display:flex;align-items:center;gap:12px"><div class="pointer">â–²</div><div class="controls"><button id="spin" class="btn">SPIN</button><button id="quick" class="btn small secondary">Quick</button><button id="reset" class="btn small secondary">Reset</button><button id="mode" class="btn small secondary">Single Deck Mode: OFF</button></div></div><div class="svg-wrap" style="margin-top:12px"><svg id="wheel" viewBox="0 0 600 600" aria-label="Deck wheel"><defs><filter id="emboss" x="-50%" y="-50%" width="200%" height="200%"><feGaussianBlur in="SourceAlpha" stdDeviation="2" result="blur"/><feOffset in="blur" dx="0" dy="2" result="off"/><feMerge><feMergeNode in="off"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><g id="slices" transform="translate(300,300)"></g><circle cx="300" cy="300" r="290" fill="none" stroke="#071427" stroke-width="6"/></svg><div class="center-badge"><svg width="86" height="40" viewBox="0 0 220 80" xmlns="http://www.w3.org/2000/svg"><text x="50%" y="50%" font-family="Arial" font-weight="800" font-size="18" text-anchor="middle" dominant-baseline="middle" fill="#071a2a">POKÃ‰MON TCG</text></svg></div><div id="tooltip" style="position:absolute;display:none;pointer-events:none;background:#052033;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);color:#dff0ff;max-width:260px"></div></div><div class="result"><div id="result-title" style="font-weight:800">Ready to spin ðŸŽ¯</div><div id="result-list" class="decks-list">Click SPIN to randomize a deck category. Hover slices to preview decks. After the wheel stops, open the deck wheel to pick a single deck.</div><div class="note">Drag & drop card images into the panel to replace placeholders in the sub-wheel (they will be embedded into the file as data URLs when downloaded).</div></div><hr style="border:0;border-top:1px solid rgba(255,255,255,0.03);margin:12px 0"/><div style="display:flex;gap:8px;flex-wrap:wrap"><button id="download" class="btn small">Download HTML</button><button id="host" class="btn small secondary">Hosting Guide</button><button id="minified" class="btn small secondary">Minified</button></div></div><div class="card"><h3>Categories & Example Decks</h3><pre id="json-preview" class="json-preview"></pre><hr/><h4>Artwork Upload</h4><div class="dropzone" id="dropzone">Drop card images here to add them to the deck art library (max 5 images at once)</div><div id="library" class="note" style="margin-top:8px">No uploaded images yet.</div><hr/><h4>Hosting</h4><div class="note">To host: create a GitHub repo, upload this file as <code>index.html</code>, then enable GitHub Pages for main branch. See the "Hosting Guide" button.</div></div></div><div class="modal" id="modal"><div class="box"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px"><strong id="modalTitle">Pick a deck</strong><div><button id="close" class="btn small secondary">Close</button></div></div><div style="display:grid;grid-template-columns:1fr 300px;gap:12px"><div id="subWrap" style="height:360px;display:flex;align-items:center;justify-content:center"></div><div class="deck-details"><strong id="deckName">â€”</strong><div id="deckArt" style="margin-top:8px;background:#071427;border-radius:6px;height:180px;display:flex;align-items:center;justify-content:center;color:var(--muted)">Artwork placeholder</div><ul id="deckList" style="margin-top:8px"></ul><div style="margin-top:8px;display:flex;gap:8px"><button id="spinSub" class="btn small">Spin Deck Wheel</button><button id="pickRandom" class="btn small secondary">Pick Random Deck</button></div></div></div></div></div><script>/* Analytics placeholder - replace with your tracking ID if desired (e.g., Google Analytics, Plausible, Fathom) */window.analyticsEnabled=false;/* Simple inline SVG icons map */const svgs={fire:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2s.8 2.2.8 3.8c.6-.6 3.2-2 3.2 1.6 0 3.2-3 4.4-4 6-1.2 2-1 4.2-1 4.2s-2.8-1.4-4-3.8c-1.2-2.4-1.4-4.6-.6-6.6C7.8 7 12 2 12 2z\"/></svg>',water:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2s6 6.6 6 10a6 6 0 1 1-12 0c0-3.4 6-10 6-10z\"/></svg>',light:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M11 1h2v4h-2zM4.2 4.2l1.6 1.6L5 7.6 3.4 6 4.2 4.2zM19 7.6l-1.8-1.8 1.6-1.6L19 4.2 19 7.6zM11 19h2v4h-2zM4 12h4v2H4zM16 12h4v2h-4z\"/></svg>',grass:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2s3 3 3 6c0 3-3 5-3 9 0-4-3-6-3-9 0-3 3-6 3-6z\"/></svg>',fist:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M6 7h2v10H6zM9 5h2v12H9zM12 3h2v14h-2z\"/></svg>',psych:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"12\" cy=\"10\" r=\"3\" fill=\"#071427\"/><path fill=\"#071427\" d=\"M12 2v4M12 16v6\"/></svg>',dark:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2a9 9 0 1 0 9 9A9 9 0 0 0 12 2z\"/></svg>',dragon:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M3 12c2-4 8-8 8-8s6 4 8 8c-2 4-8 8-8 8S5 16 3 12z\"/></svg>',metal:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"12\" cy=\"12\" r=\"9\" fill=\"#071427\"/></svg>',hour:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2v10l4 2\"/></svg>',lost:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2C7 6 4 10 4 14s3 8 8 8 8-3 8-8-3-8-8-12z\"/></svg>',shield:'<svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"#071427\" d=\"M12 2L4 5v6c0 5 4 9 8 11 4-2 8-6 8-11V5l-8-3z\"/></svg>'};const cats=[{label:'FIRE DECKS',color:'#ff7043',icon:svgs.fire,decks:[{name:'Charizard ex',notes:'Aggro / Radiant variants'},{name:'Armarouge ex',notes:'Burn/control hybrid'}]},{label:'WATER DECKS',color:'#4db6ff',icon:svgs.water,decks:[{name:'Chien-Pao / Baxcalibur',notes:'Fast attacker'},{name:'Palkia VSTAR Reboot',notes:'Reboot engine'}]},{label:'LIGHTNING DECKS',color:'#ffd54a',icon:svgs.light,decks:[{name:'Miraidon ex',notes:'Tempo attacker'},{name:'Regieleki VMAX',notes:'Burst attacker'}]},{label:'GRASS DECKS',color:'#66bb6a',icon:svgs.grass,decks:[{name:'Rillaboom ex',notes:'Spread/tempo'}]},{label:'FIGHTING DECKS',color:'#f57c00',icon:svgs.fist,decks:[{name:'Ting-Lu ex',notes:'Tanky attacker'}]},{label:'PSYCHIC DECKS',color:'#ba68c8',icon:svgs.psych,decks:[{name:'Gardevoir ex',notes:'Control'}]},{label:'DARKNESS DECKS',color:'#6d4c9a',icon:svgs.dark,decks:[{name:'Roaring Moon ex',notes:'Aggro darkness'}]},{label:'DRAGON DECKS',color:'#ff8a65',icon:svgs.dragon,decks:[{name:'Giratina VSTAR',notes:'Lost Box'}]},{label:'METAL DECKS',color:'#9e9e9e',icon:svgs.metal,decks:[{name:'Dialga VSTAR',notes:'Metal synergy'}]},{label:'ANCIENT/FUTURE',color:'#b47a3b',icon:svgs.hour,decks:[{name:'Raging Bolt ex',notes:'Legacy fast'}]},{label:'LOST ZONE',color:'#2b9fcf',icon:svgs.lost,decks:[{name:'Lost Box Turbo',notes:'Classic'}]},{label:'CONTROL/SPECIAL',color:'#8f8f8f',icon:svgs.shield,decks:[{name:'Snorlax Stall',notes:'Stall/control'}]}];const total=cats.length,degreesPer=360/total,radius=260,innerRadius=68,slicesG=document.querySelector('#slices'),tooltip=document.getElementById('tooltip'),svgWrap=document.querySelector('.svg-wrap');let currentRotation=0,spinning=false,singleMode=false;const audioCtx=new (window.AudioContext||window.webkitAudioContext)();function playBeep(f,t=0.03,v=0.12){const o=audioCtx.createOscillator(),g=audioCtx.createGain();o.type='sine';o.frequency.setValueAtTime(f,audioCtx.currentTime);g.gain.setValueAtTime(v,audioCtx.currentTime);o.connect(g);g.connect(audioCtx.destination);o.start();o.stop(audioCtx.currentTime+t);}function draw(){slicesG.innerHTML='';for(let i=0;i<total;i++){const sA=(i*degreesPer-90)*Math.PI/180,eA=((i+1)*degreesPer-90)*Math.PI/180,x1=Math.cos(sA)*radius,y1=Math.sin(sA)*radius,x2=Math.cos(eA)*radius,y2=Math.sin(eA)*radius,large=eA-sA>Math.PI?1:0,d=[`M ${Math.cos(sA)*innerRadius} ${Math.sin(sA)*innerRadius}`,`L ${x1} ${y1}`,`A ${radius} ${radius} 0 ${large} 1 ${x2} ${y2}`,`L ${Math.cos(eA)*innerRadius} ${Math.sin(eA)*innerRadius}`,`A ${innerRadius} ${innerRadius} 0 ${large} 0 ${Math.cos(sA)*innerRadius} ${Math.sin(sA)*innerRadius}`,'Z'].join(' ');const path=document.createElementNS('http://www.w3.org/2000/svg','path');path.setAttribute('d',d);path.setAttribute('fill',cats[i].color);path.setAttribute('stroke','#071427');path.setAttribute('stroke-width','2');path.setAttribute('data-index',i);path.style.filter='url(#emboss)';slicesG.appendChild(path);const mid=(i+0.5)*degreesPer-90,tx=Math.cos(mid*Math.PI/180)*(innerRadius+(radius-innerRadius)/2),ty=Math.sin(mid*Math.PI/180)*(innerRadius+(radius-innerRadius)/2);const g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform',`translate(${tx},${ty}) rotate(${mid})`);const icon=document.createElementNS('http://www.w3.org/2000/svg','g');icon.innerHTML=cats[i].icon;g.appendChild(icon);const label=document.createElementNS('http://www.w3.org/2000/svg','text');label.setAttribute('x',0);label.setAttribute('y',22);label.setAttribute('text-anchor','middle');label.setAttribute('font-size',12);label.setAttribute('fill','#071427');label.setAttribute('font-weight',700);label.textContent=cats[i].label;g.appendChild(label);slicesG.appendChild(g);path.addEventListener('mouseenter',(ev)=>{showTip(ev,cats[i]);path.setAttribute('stroke-width','4');playBeep(900,0.02,0.06)});path.addEventListener('mouseleave',()=>{hideTip();path.setAttribute('stroke-width','2')});path.addEventListener('click',()=>openSub(i));}}draw();function showTip(e,cat){const r=svgWrap.getBoundingClientRect();tooltip.style.display='block';const x=e.clientX-r.left,y=e.clientY-r.top;tooltip.style.left=(x+12)+'px';tooltip.style.top=(y+8)+'px';tooltip.innerHTML=`<strong style="display:block;margin-bottom:6px">${cat.label}</strong><div style="font-size:13px;color:#9aa7c7">Example decks:</div><ul style="margin:8px 0 0 18px;padding:0">${cat.decks.map(d=>`<li style="margin-bottom:6px">${escapeHtml(d.name)}<div style="font-size:12px;color:#9aa7c7">${escapeHtml(d.notes)}</div></li>`).join('')}</ul>`}function hideTip(){tooltip.style.display='none'}function escapeHtml(s){return(String(s)).replace(/[&<>"']/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c]))}function easeOutCubic(t){return 1-Math.pow(1-t,3)}function spin(long=true){if(spinning)return;spinning=true;document.getElementById('spin').disabled=true;const chosen=Math.floor(Math.random()*total);const extra=long?(Math.floor(Math.random()*3)+5):(Math.floor(Math.random()*2)+2);const target=360*extra+(360-(chosen*degreesPer+degreesPer/2));const start=currentRotation%360,startT=performance.now(),duration=long?5200+Math.random()*600:1400+Math.random()*600;const iv=setInterval(()=>playBeep(600,0.01,0.02),120);function frame(now){const t=Math.min(1,(now-startT)/duration);const eased=easeOutCubic(t);const rot=start+(target-start)*eased;currentRotation=rot;slicesG.parentElement.setAttribute('transform',`translate(300,300) rotate(${rot})`);if(t<1)requestAnimationFrame(frame);else{clearInterval(iv);playBeep(1200,0.06,0.18);setTimeout(()=>playBeep(800,0.04,0.12),80);spinning=false;document.getElementById('spin').disabled=false;const norm=(rot%360+360)%360;let angle=(360-norm+90)%360;const idx=Math.floor(angle/degreesPer)%total;showResult(idx)}}requestAnimationFrame(frame)}function showResult(i){const item=cats[i];document.getElementById('result-title').textContent=item.label;document.getElementById('result-list').innerHTML='<strong>Example decks:</strong><ul style=\"margin:8px 0 0 18px;padding:0;\">'+item.decks.map(d=>`<li>${escapeHtml(d.name)} <span style=\"color:#9aa7c7\">â€” ${escapeHtml(d.notes)}</span></li>`).join('')+'</ul><div style=\"margin-top:10px\"><button id=\"openSubBtn\" class=\"btn small\">Open Deck Wheel</button> <button id=\"pickRandBtn\" class=\"btn small secondary\">Pick Random Deck</button></div>';document.getElementById('selectedDeck')&&(document.getElementById('selectedDeck').textContent='â€”');setTimeout(()=>{const ob=document.getElementById('openSubBtn');if(ob)ob.addEventListener('click',()=>openSub(i));const pb=document.getElementById('pickRandBtn');if(pb)pb.addEventListener('click',()=>{const d=randomFrom(cats[i].decks);document.getElementById('selectedDeck')&&(document.getElementById('selectedDeck').textContent=d.name+' â€” '+d.notes);if(singleMode)openSub(i,true)})},50)}document.getElementById('spin').addEventListener('click',()=>{audioCtx.resume();spin(true)});document.getElementById('quick').addEventListener('click',()=>{audioCtx.resume();spin(false)});document.getElementById('reset').addEventListener('click',()=>{currentRotation=0;slicesG.parentElement.setAttribute('transform',`translate(300,300) rotate(${currentRotation})`);document.getElementById('result-title').textContent='Ready to spin ðŸŽ¯';document.getElementById('result-list').textContent='Click SPIN to randomize a deck category.'});document.getElementById('mode').addEventListener('click',()=>{singleMode=!singleMode;document.getElementById('mode').textContent=singleMode?'Single Deck Mode: ON':'Single Deck Mode: OFF'});const modal=document.getElementById('modal'),subWrap=document.getElementById('subWrap'),deckName=document.getElementById('deckName'),deckList=document.getElementById('deckList'),deckArt=document.getElementById('deckArt'),spinSub=document.getElementById('spinSub'),pickRandom=document.getElementById('pickRandom'),closeBtn=document.getElementById('close');let currentSubRot=0,subSpinning=false,artLibrary=[];function openSub(catIndex,auto){const cat=cats[catIndex];document.getElementById('modalTitle').textContent=`Pick a deck â€” ${cat.label}`;subWrap.innerHTML='';const svg=document.createElementNS('http://www.w3.org/2000/svg','svg');svg.setAttribute('viewBox','0 0 400 400');svg.setAttribute('width','100%');svg.setAttribute('height','100%');svg.style.maxWidth='360px';const g=document.createElementNS('http://www.w3.org/2000/svg','g');g.setAttribute('transform','translate(200,200)');svg.appendChild(g);const decks=cat.decks;const count=decks.length;const deg=360/count;for(let i=0;i<count;i++){const sA=(i*deg-90)*Math.PI/180,eA=((i+1)*deg-90)*Math.PI/180,x1=Math.cos(sA)*170,y1=Math.sin(sA)*170,x2=Math.cos(eA)*170,y2=Math.sin(eA)*170;const d=[`M ${Math.cos(sA)*40} ${Math.sin(sA)*40}`,`L ${x1} ${y1}`,`A 170 170 0 ${eA-sA>Math.PI?1:0} 1 ${x2} ${y2}`,`L ${Math.cos(eA)*40} ${Math.sin(eA)*40}`,`A 40 40 0 ${eA-sA>Math.PI?1:0} 0 ${Math.cos(sA)*40} ${Math.sin(sA)*40}`,'Z'].join(' ');const path=document.createElementNS('http://www.w3.org/2000/svg','path');path.setAttribute('d',d);path.setAttribute('fill',cat.color);path.setAttribute('stroke','#071427');path.setAttribute('stroke-width','1');path.setAttribute('data-i',i);g.appendChild(path);const mid=(i+0.5)*deg-90;const tx=Math.cos(mid*Math.PI/180)*100,ty=Math.sin(mid*Math.PI/180)*100;const text=document.createElementNS('http://www.w3.org/2000/svg','text');text.setAttribute('x',tx);text.setAttribute('y',ty);text.setAttribute('font-size',12);text.setAttribute('text-anchor','middle');text.setAttribute('fill','#071427');text.textContent=decks[i].name;g.appendChild(text);path.addEventListener('mouseenter',()=>{playBeep(1200,0.02,0.06);deckName.textContent=decks[i].name;deckList.innerHTML=decks[i].notes?`<li>${escapeHtml(decks[i].notes)}</li>`:'';deckArt.innerHTML='';if(decks[i].art)deckArt.innerHTML=`<img src=\"${decks[i].art}\" style=\"max-width:100%;height:100%;object-fit:cover;border-radius:6px\">`;else if(artLibrary[0])deckArt.innerHTML=`<img src=\"${artLibrary[0]}\" style=\"max-width:100%;height:100%;object-fit:cover;border-radius:6px\">`;else deckArt.textContent='Artwork placeholder'});path.addEventListener('click',()=>{selectDeck(decks[i])})}subWrap.appendChild(svg);modal.style.display='flex';function spinSubWheel(long=true){if(subSpinning)return;subSpinning=true;spinSub.disabled=true;pickRandom.disabled=true;const chosen=Math.floor(Math.random()*decks.length);const extra=long?(Math.floor(Math.random()*4)+5):(Math.floor(Math.random()*2)+2);const target=360*extra+(360-(chosen*(360/decks.length)+(360/decks.length)/2));const start=currentSubRot%360,startT=performance.now(),duration=long?2600+Math.random()*600:900+Math.random()*300;const iv=setInterval(()=>playBeep(900,0.01,0.02),100);function frame(now){const t=Math.min(1,(now-startT)/duration);const eased=1-Math.pow(1-t,3);const rot=start+(target-start)*eased;currentSubRot=rot;g.setAttribute('transform',`translate(200,200) rotate(${rot})`);if(t<1)requestAnimationFrame(frame);else{clearInterval(iv);playBeep(1400,0.06,0.18);setTimeout(()=>playBeep(900,0.04,0.12),80);subSpinning=false;spinSub.disabled=false;pickRandom.disabled=false;const norm=(rot%360+360)%360;let angle=(360-norm+90)%360;const idx=Math.floor(angle/(360/decks.length))%decks.length;selectDeck(decks[idx])}}requestAnimationFrame(frame)}spinSub.onclick=()=>{audioCtx.resume();spinSubWheel(true)};pickRandom.onclick=()=>{const d=randomFrom(decks);selectDeck(d)};if(auto)setTimeout(()=>spinSubWheel(true),400)}function selectDeck(deck){document.getElementById('selectedDeck')&&(document.getElementById('selectedDeck').textContent=deck.name+' â€” '+deck.notes);document.getElementById('deckName').textContent=deck.name;document.getElementById('deckList').innerHTML=deck.notes?`<li>${escapeHtml(deck.notes)}</li>`:'';if(deck.art)document.getElementById('deckArt').innerHTML=`<img src=\"${deck.art}\" style=\"max-width:100%;height:100%;object-fit:cover;border-radius:6px\">`;else if(artLibrary[0])document.getElementById('deckArt').innerHTML=`<img src=\"${artLibrary[0]}\" style=\"max-width:100%;height:100%;object-fit:cover;border-radius:6px\">`;playBeep(1600,0.06,0.2);setTimeout(()=>{modal.style.display='none'},800)}closeBtn.addEventListener('click',()=>modal.style.display='none');document.addEventListener('click',e=>{if(!document.querySelector('.svg-wrap').contains(e.target))tooltip.style.display='none'});function randomFrom(a){return a[Math.floor(Math.random()*a.length)]}document.getElementById('download').addEventListener('click',()=>{const html='<!doctype html>'+document.documentElement.innerHTML;const blob=new Blob([html],{type:'text/html'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='pokemon_tcg_wheel_final.html';document.body.appendChild(a);a.click();a.remove();URL.revokeObjectURL(url)});document.getElementById('host').addEventListener('click',()=>{alert('Hosting guide:\\n1) Create a GitHub repo\\n2) Upload this file as index.html\\n3) In Settings > Pages enable Pages from main branch -> / (root)\\n4) Wait a few minutes and visit https://<username>.github.io/<repo>/')});const dz=document.getElementById('dropzone');dz.addEventListener('dragover',e=>{e.preventDefault();dz.style.borderColor='#fff'});dz.addEventListener('dragleave',e=>{dz.style.borderColor='rgba(255,255,255,0.04)'});dz.addEventListener('drop',e=>{e.preventDefault();dz.style.borderColor='rgba(255,255,255,0.04)';const files=Array.from(e.dataTransfer.files).slice(0,5);if(!files.length)return;const readers=files.map(f=>new Promise(res=>{const r=new FileReader();r.onload=(evt)=>res(evt.target.result);r.readAsDataURL(f)}));Promise.all(readers).then(imgs=>{artLibrary.push(...imgs);document.getElementById('library').innerHTML=artLibrary.map((d,i)=>`<div style=\"margin-top:6px\">Image ${i+1} â€” <button data-i=\"${i}\" class=\"btn small secondary\">Use</button></div>`).join('');document.querySelectorAll('#library button').forEach(b=>b.addEventListener('click',()=>{const i=Number(b.getAttribute('data-i'));const url=artLibrary[i];/* assign to first deck without art */let assigned=false;for(const cat of cats){for(const dk of cat.decks){if(!dk.art){dk.art=url;assigned=true;break;} } if(assigned)break;}alert(assigned?\"Assigned image to first deck without art\":\"All decks already have art â€” you can still download images from the library in the console\");}))})});document.getElementById('minified').addEventListener('click',()=>{alert('This file is already optimized/minified for a single HTML. To further minify, remove comments and shorten variable names using a build tool.')});document.addEventListener('keydown',e=>{if(e.code==='Space'){e.preventDefault();audioCtx.resume();spin(true)}});</script></body></html>